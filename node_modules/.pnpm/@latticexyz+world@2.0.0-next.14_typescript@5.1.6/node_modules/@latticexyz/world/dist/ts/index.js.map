{"version":3,"sources":["../../ts/encodeSystemCall.ts","../../ts/encodeSystemCallFrom.ts","../../ts/encodeSystemCalls.ts","../../ts/encodeSystemCallsFrom.ts","../../ts/worldEvents.ts"],"sourcesContent":["import {\n  Abi,\n  EncodeFunctionDataParameters,\n  ContractFunctionConfig,\n  GetFunctionArgs,\n  Hex,\n  encodeFunctionData,\n} from \"viem\";\nimport IWorldCallAbi from \"../out/IWorldKernel.sol/IWorldCall.abi.json\";\n\nexport type SystemCall<abi extends Abi, functionName extends string = string> = Pick<\n  ContractFunctionConfig<abi, functionName>,\n  \"abi\" | \"functionName\" | \"args\"\n> & {\n  readonly systemId: Hex;\n};\n\n/** Encode a system call to be passed as arguments into `World.call` */\nexport function encodeSystemCall<abi extends Abi, functionName extends string = string>({\n  abi,\n  systemId,\n  functionName,\n  args,\n}: SystemCall<abi, functionName>): GetFunctionArgs<typeof IWorldCallAbi, \"call\">[\"args\"] {\n  return [\n    systemId,\n    encodeFunctionData({\n      abi,\n      functionName,\n      args,\n    } as unknown as EncodeFunctionDataParameters<abi, functionName>),\n  ];\n}\n","import { Abi, EncodeFunctionDataParameters, GetFunctionArgs, encodeFunctionData, Address } from \"viem\";\nimport IWorldCallAbi from \"../out/IWorldKernel.sol/IWorldCall.abi.json\";\nimport { SystemCall } from \"./encodeSystemCall\";\n\nexport type SystemCallFrom<abi extends Abi, functionName extends string = string> = SystemCall<abi, functionName> & {\n  readonly from: Address;\n};\n\n/** Encode a system call to be passed as arguments into `World.callFrom` */\nexport function encodeSystemCallFrom<abi extends Abi, functionName extends string = string>({\n  abi,\n  from,\n  systemId,\n  functionName,\n  args,\n}: SystemCallFrom<abi, functionName>): GetFunctionArgs<typeof IWorldCallAbi, \"callFrom\">[\"args\"] {\n  return [\n    from,\n    systemId,\n    encodeFunctionData({\n      abi,\n      functionName,\n      args,\n    } as unknown as EncodeFunctionDataParameters<abi, functionName>),\n  ];\n}\n","import { Abi, GetFunctionArgs } from \"viem\";\nimport IWorldCallAbi from \"../out/IWorldKernel.sol/IWorldCall.abi.json\";\nimport { SystemCall, encodeSystemCall } from \"./encodeSystemCall\";\n\n/** Encode system calls to be passed as arguments into `World.batchCall` */\nexport function encodeSystemCalls<abi extends Abi, functionName extends string = string>(\n  abi: abi,\n  systemCalls: readonly Omit<SystemCall<abi, functionName>, \"abi\">[]\n): GetFunctionArgs<typeof IWorldCallAbi, \"call\">[\"args\"][] {\n  return systemCalls.map((systemCall) => encodeSystemCall({ ...systemCall, abi } as SystemCall<abi, functionName>));\n}\n","import { Abi, Address, GetFunctionArgs } from \"viem\";\nimport IWorldCallAbi from \"../out/IWorldKernel.sol/IWorldCall.abi.json\";\nimport { SystemCallFrom, encodeSystemCallFrom } from \"./encodeSystemCallFrom\";\n\n/** Encode system calls to be passed as arguments into `World.batchCallFrom` */\nexport function encodeSystemCallsFrom<abi extends Abi, functionName extends string = string>(\n  abi: abi,\n  from: Address,\n  systemCalls: readonly Omit<SystemCallFrom<abi, functionName>, \"abi\" | \"from\">[]\n): GetFunctionArgs<typeof IWorldCallAbi, \"callFrom\">[\"args\"][] {\n  return systemCalls.map((systemCall) =>\n    encodeSystemCallFrom({ ...systemCall, abi, from } as SystemCallFrom<abi, functionName>)\n  );\n}\n","// from WorldFactory\nexport const worldDeployedEvent = \"event WorldDeployed(address indexed newContract)\";\n\n// from World\nexport const helloWorldEvent = \"event HelloWorld(bytes32 indexed worldVersion)\";\n"],"mappings":"yGAAA,OAME,sBAAAA,MACK,OAWA,SAASC,EAAwE,CACtF,IAAAC,EACA,SAAAC,EACA,aAAAC,EACA,KAAAC,CACF,EAAyF,CACvF,MAAO,CACLF,EACAH,EAAmB,CACjB,IAAAE,EACA,aAAAE,EACA,KAAAC,CACF,CAA+D,CACjE,CACF,CChCA,OAA6D,sBAAAC,MAAmC,OASzF,SAASC,EAA4E,CAC1F,IAAAC,EACA,KAAAC,EACA,SAAAC,EACA,aAAAC,EACA,KAAAC,CACF,EAAiG,CAC/F,MAAO,CACLH,EACAC,EACAJ,EAAmB,CACjB,IAAAE,EACA,aAAAG,EACA,KAAAC,CACF,CAA+D,CACjE,CACF,CCpBO,SAASC,EACdC,EACAC,EACyD,CACzD,OAAOA,EAAY,IAAKC,GAAeC,EAAiB,CAAE,GAAGD,EAAY,IAAAF,CAAI,CAAkC,CAAC,CAClH,CCLO,SAASI,EACdC,EACAC,EACAC,EAC6D,CAC7D,OAAOA,EAAY,IAAKC,GACtBC,EAAqB,CAAE,GAAGD,EAAY,IAAAH,EAAK,KAAAC,CAAK,CAAsC,CACxF,CACF,CCZO,IAAMI,EAAqB,mDAGrBC,EAAkB","names":["encodeFunctionData","encodeSystemCall","abi","systemId","functionName","args","encodeFunctionData","encodeSystemCallFrom","abi","from","systemId","functionName","args","encodeSystemCalls","abi","systemCalls","systemCall","encodeSystemCall","encodeSystemCallsFrom","abi","from","systemCalls","systemCall","encodeSystemCallFrom","worldDeployedEvent","helloWorldEvent"]}