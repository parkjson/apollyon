{"version":3,"sources":["../src/mud.ts"],"sourcesContent":["#!/usr/bin/env node\n\n// Load .env file into process.env\nimport * as dotenv from \"dotenv\";\ndotenv.config();\n\nasync function run() {\n  // Import everything else async so they can pick up env vars in .env\n  const { default: yargs } = await import(\"yargs\");\n  const { default: chalk } = await import(\"chalk\");\n  const { hideBin } = await import(\"yargs/helpers\");\n  const { logError } = await import(\"./utils/errors\");\n  const { commands } = await import(\"./commands\");\n\n  yargs(hideBin(process.argv))\n    // Explicit name to display in help (by default it's the entry file, which may not be \"mud\" for e.g. ts-node)\n    .scriptName(\"mud\")\n    // Use the commands directory to scaffold\n    // command array overload isn't typed, see https://github.com/yargs/yargs/blob/main/docs/advanced.md#esm-hierarchy\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    .command(commands as any)\n    // Enable strict mode.\n    .strict()\n    // Custom error handler\n    .fail((msg, err) => {\n      console.error(chalk.red(msg));\n      if (msg.includes(\"Missing required argument\")) {\n        console.log(\n          chalk.yellow(`Run 'pnpm mud ${process.argv[2]} --help' for a list of available and required arguments.`)\n        );\n      }\n      console.log(\"\");\n      // Even though `.fail` type says we should get an `Error`, this can sometimes be undefined\n      if (err != null) {\n        logError(err);\n        console.log(\"\");\n      }\n\n      process.exit(1);\n    })\n    // Useful aliases.\n    .alias({ h: \"help\" }).argv;\n}\n\nrun();\n"],"mappings":";AAGA,UAAYA,MAAY,SACjB,SAAO,EAEd,eAAeC,GAAM,CAEnB,GAAM,CAAE,QAASC,CAAM,EAAI,KAAM,QAAO,OAAO,EACzC,CAAE,QAASC,CAAM,EAAI,KAAM,QAAO,OAAO,EACzC,CAAE,QAAAC,CAAQ,EAAI,KAAM,QAAO,eAAe,EAC1C,CAAE,SAAAC,CAAS,EAAI,KAAM,QAAO,sBAAgB,EAC5C,CAAE,SAAAC,CAAS,EAAI,KAAM,QAAO,wBAAY,EAE9CJ,EAAME,EAAQ,QAAQ,IAAI,CAAC,EAExB,WAAW,KAAK,EAIhB,QAAQE,CAAe,EAEvB,OAAO,EAEP,KAAK,CAACC,EAAKC,IAAQ,CAClB,QAAQ,MAAML,EAAM,IAAII,CAAG,CAAC,EACxBA,EAAI,SAAS,2BAA2B,GAC1C,QAAQ,IACNJ,EAAM,OAAO,iBAAiB,QAAQ,KAAK,CAAC,2DAA2D,CACzG,EAEF,QAAQ,IAAI,EAAE,EAEVK,GAAO,OACTH,EAASG,CAAG,EACZ,QAAQ,IAAI,EAAE,GAGhB,QAAQ,KAAK,CAAC,CAChB,CAAC,EAEA,MAAM,CAAE,EAAG,MAAO,CAAC,EAAE,IAC1B,CAEAP,EAAI","names":["dotenv","run","yargs","chalk","hideBin","logError","commands","msg","err"]}